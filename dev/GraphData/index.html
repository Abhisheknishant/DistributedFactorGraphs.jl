<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Using Graph Data · DistributedFactorGraphs.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>DistributedFactorGraphs.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../DataStructure/">Data Structure</a></li><li><span class="toctext">Getting Started</span><ul><li><a class="toctext" href="../getting_started/">Introduction</a></li><li><a class="toctext" href="../BuildingGraphs/">Building Graphs</a></li><li class="current"><a class="toctext" href>Using Graph Data</a><ul class="internal"><li><a class="toctext" href="#Variable-and-Factor-Elements-1">Variable and Factor Elements</a></li><li><a class="toctext" href="#Graph-Related-Data-1">Graph-Related Data</a></li></ul></li><li><a class="toctext" href="../DrawingGraphs/">Drawing Graphs</a></li><li><a class="toctext" href="../TraversingAndQuerying/">Traversing and Querying</a></li><li><a class="toctext" href="../ref_api/">Common API Interface</a></li></ul></li><li><span class="toctext">DistributedFactorGraph API&#39;s</span><ul><li><a class="toctext" href="../apis/graphs/">Graphs.jl</a></li><li><a class="toctext" href="../apis/graphs/">LightGraphs.jl</a></li><li><a class="toctext" href="../apis/graphs/">CloudGraphs.jl</a></li></ul></li><li><a class="toctext" href="../func_ref/">Reference</a></li></ul></nav><article id="docs"><header><nav><ul><li>Getting Started</li><li><a href>Using Graph Data</a></li></ul><a class="edit-page" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/master/docs/src/GraphData.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Using Graph Data</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Using-Graph-Elements-1" href="#Using-Graph-Elements-1">Using Graph Elements</a></h1><p>Variables and factors in DistributedFactorGraphs are used for a variety of different applications. We have tried to compartmentalize the data as much as possible so that users do not need to dig around to find what they need (it&#39;s a work in progress).</p><p>There are three fundamental types of data in DFG:</p><ul><li>Variable and factor data (stored in the nodes themselves)</li><li>Offloaded big data elements (keyed in a variable or factor, but stored in another location)</li><li>Graph data (data that is related to the graph itself)</li></ul><p>The following is a guideline to using these parameters.</p><p><strong>NOTE</strong>: Some functions are direct accessors to the internal parameters, others are derived functions (e.g. getLabel(v) = v.label). In other cases the accessors are simplified ways to interact with the structures. We recommend using the accessors as the internal structure may change over time.</p><p><strong>NOTE</strong>: Adds in general throw an error if the element already exists. Update will update the element if it exists, otherwise it will add it.</p><p><strong>NOTE</strong>: In general these functions will return an error if the respective element is not found. This is to avoid returning, say, nothing, which will be horribly confusing if you tried <code>getVariableSolverData(dfg, :a, :b)</code> and it returned nothing - which was missing, :a or :b, or was there a communication issue? We recommend coding defensively and trapping errors in critical portions of your user code.</p><p><strong>NOTE</strong>: All data is passed by reference, so if you update the returned structure it will update in the graph. The database driver is an exception, and once the variable or factor is updated you need to call update* to persist the changes to the graph.</p><p>The following examples make use this data:</p><pre><code class="language-julia">using IncrementalInference
# Create a DFG with default solver parameters using the LightGraphs.jl driver.
dfg = LightDFG{SolverParams}(params=SolverParams())

x0 = addVariable!(dfg, :x0, ContinuousScalar, labels = [:POSE], solvable=1)
x1 = addVariable!(dfg, :x1, ContinuousScalar, labels = [:POSE], solvable=1)
f1 = addFactor!(dfg, [:x0; :x1], LinearConditional(Normal(50.0,2.0)), solvable=1)</code></pre><h2><a class="nav-anchor" id="Variable-and-Factor-Elements-1" href="#Variable-and-Factor-Elements-1">Variable and Factor Elements</a></h2><h3><a class="nav-anchor" id="Common-Elements-1" href="#Common-Elements-1">Common Elements</a></h3><h4><a class="nav-anchor" id="Labels-1" href="#Labels-1">Labels</a></h4><p>Labels are the principle identifier of a variable or factor.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.getLabel" href="#DistributedFactorGraphs.getLabel"><code>DistributedFactorGraphs.getLabel</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getLabel(v)
</code></pre><p>Return the label for a DFGNode.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/CommonAccessors.jl#L17">source</a></section><h4><a class="nav-anchor" id="Timestamps-1" href="#Timestamps-1">Timestamps</a></h4><p>Each variable or factor can have a timestamp associated with it.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.getTimestamp" href="#DistributedFactorGraphs.getTimestamp"><code>DistributedFactorGraphs.getTimestamp</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getTimestamp(v)
</code></pre><p>Get the timestamp of a DFGNode.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/CommonAccessors.jl#L49">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.setTimestamp" href="#DistributedFactorGraphs.setTimestamp"><code>DistributedFactorGraphs.setTimestamp</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setTimestamp(v, ts; verbose)
</code></pre><p>Set the timestamp of a DFGVariable object returning a new DFGVariable. Note: Since the <code>timestamp</code> field is not mutable <code>setTimestamp</code> returns a new variable with the updated timestamp (note the absence of <code>!</code>). Use <a href="../BuildingGraphs/#DistributedFactorGraphs.updateVariable!"><code>updateVariable!</code></a> on the returened variable to update it in the factor graph if needed. Alternatively use <a href="#DistributedFactorGraphs.setTimestamp!-Tuple{AbstractDFG,Symbol,Dates.DateTime}"><code>setTimestamp!</code></a>. See issue #315.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L156-L164">source</a></section><h4><a class="nav-anchor" id="Tags-1" href="#Tags-1">Tags</a></h4><p>Tags are a set of symbols that contain identifiers for the variable or factor.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.listTags" href="#DistributedFactorGraphs.listTags"><code>DistributedFactorGraphs.listTags</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">listTags(dfg, sym)
</code></pre><p>Return the tags for a variable or factor.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/CommonAccessors.jl#L191">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.mergeTags!" href="#DistributedFactorGraphs.mergeTags!"><code>DistributedFactorGraphs.mergeTags!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">mergeTags!(dfg, sym, tags)
</code></pre><p>Merge add tags to a variable or factor (union)</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/CommonAccessors.jl#L203-L207">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.removeTags!" href="#DistributedFactorGraphs.removeTags!"><code>DistributedFactorGraphs.removeTags!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">removeTags!(dfg, sym, tags)
</code></pre><p>Remove the tags from the node (setdiff)</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/CommonAccessors.jl#L215">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.emptyTags!" href="#DistributedFactorGraphs.emptyTags!"><code>DistributedFactorGraphs.emptyTags!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">emptyTags!(dfg, sym)
</code></pre><p>Empty all tags from the node (empty)</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/CommonAccessors.jl#L226">source</a></section><h3><a class="nav-anchor" id="Solvable-1" href="#Solvable-1">Solvable</a></h3><p>The solvable flag indicates whether the solver should make use of the variable or factor while solving the graph. This can be used to construct graphs in chunks while solving asynchronously, or for selectively solving portions of the graph.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.getSolvable" href="#DistributedFactorGraphs.getSolvable"><code>DistributedFactorGraphs.getSolvable</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getSolvable(var)
</code></pre><p>Variables or factors may or may not be &#39;solvable&#39;, depending on a user definition.  Useful for ensuring atomic transactions.</p><p>Related:</p><ul><li>isSolveInProgress</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/CommonAccessors.jl#L93-L100">source</a><div><div><pre><code class="language-julia">getSolvable(dfg, sym)
</code></pre><p>Get &#39;solvable&#39; parameter for either a variable or factor.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/CommonAccessors.jl#L104-L108">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.setSolvable!" href="#DistributedFactorGraphs.setSolvable!"><code>DistributedFactorGraphs.setSolvable!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setSolvable!(node, solvable)
</code></pre><p>Set the <code>solvable</code> parameter for either a variable or factor.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/CommonAccessors.jl#L118-L122">source</a><div><div><pre><code class="language-julia">setSolvable!(dfg, sym, solvable)
</code></pre><p>Set the <code>solvable</code> parameter for either a variable or factor.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/CommonAccessors.jl#L129-L133">source</a></section><h3><a class="nav-anchor" id="Variables-1" href="#Variables-1">Variables</a></h3><h4><a class="nav-anchor" id="Soft-Type-1" href="#Soft-Type-1">Soft Type</a></h4><p>The soft type is the underlying inference variable type, such as a Pose2.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.getSofttype" href="#DistributedFactorGraphs.getSofttype"><code>DistributedFactorGraphs.getSofttype</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getSofttype(vnd)
</code></pre><p>Variable nodes softtype information holding a variety of meta data associated with the type of variable stored in that node of the factor graph.</p><p>Related</p><p>getVariableType</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L27-L35">source</a></section><h4><a class="nav-anchor" id="Packed-Parametric-Estimates-1" href="#Packed-Parametric-Estimates-1">Packed Parametric Estimates</a></h4><p>Solved graphs contain packed parametric estimates for the variables, which are keyed by the solution (the default is saved as :default).</p><p>For each PPE structure, there are accessors for getting individual values:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.getMaxPPE" href="#DistributedFactorGraphs.getMaxPPE"><code>DistributedFactorGraphs.getMaxPPE</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getMaxPPE(est)
</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.getMeanPPE" href="#DistributedFactorGraphs.getMeanPPE"><code>DistributedFactorGraphs.getMeanPPE</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getMeanPPE(est)
</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.getSuggestedPPE" href="#DistributedFactorGraphs.getSuggestedPPE"><code>DistributedFactorGraphs.getSuggestedPPE</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getSuggestedPPE(est)
</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L11">source</a></section><p>Related functions for getting, adding/updating, and deleting PPE structures:</p><div class="admonition warning"><div class="admonition-title">Missing docstring.</div><div class="admonition-text"><p>Missing docstring for <code>listPPE</code>. Check Documenter&#39;s build log for details.</p></div></div><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.getPPE" href="#DistributedFactorGraphs.getPPE"><code>DistributedFactorGraphs.getPPE</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getPPE(vari)
getPPE(vari, solveKey)
</code></pre><p>Get the parametric point estimate (PPE) for a variable in the factor graph.</p><p>Notes</p><ul><li>Defaults on keywords <code>solveKey</code> and <code>method</code></li></ul><p>Related</p><p>getMeanPPE, getMaxPPE, getKDEMean, getKDEFit, getPPEs, getVariablePPEs</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L205-L216">source</a><div><div><pre><code class="language-julia">getPPE(dfg, variablekey)
getPPE(dfg, variablekey, ppekey)
</code></pre><p>Get the parametric point estimate (PPE) for a variable in the factor graph for a given solve key.</p><p>Notes</p><ul><li>Defaults on keywords <code>solveKey</code> and <code>method</code></li></ul><p>Related getMeanPPE, getMaxPPE, getKDEMean, getKDEFit, getPPEs, getVariablePPEs</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L486-L495">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.addPPE!" href="#DistributedFactorGraphs.addPPE!"><code>DistributedFactorGraphs.addPPE!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">addPPE!(dfg, variablekey, ppe)
addPPE!(dfg, variablekey, ppe, ppekey)
</code></pre><p>Add variable PPE, errors if it already exists.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L505-L508">source</a><div><div><pre><code class="language-julia">addPPE!(dfg, sourceVariable)
addPPE!(dfg, sourceVariable, ppekey)
</code></pre><p>Add a new PPE entry from a deepcopy of the source variable PPE. NOTE: Copies the solver data.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L518-L522">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.updatePPE!" href="#DistributedFactorGraphs.updatePPE!"><code>DistributedFactorGraphs.updatePPE!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Update PPE data if it exists, otherwise add it – one call per <code>key::Symbol=:default</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L527-L530">source</a><div><div><pre><code class="language-julia">updatePPE!(dfg, sourceVariable)
updatePPE!(dfg, sourceVariable, ppekey)
</code></pre><p>Update PPE data if it exists, otherwise add it. NOTE: Copies the PPE data.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L542-L546">source</a><div><div><pre><code class="language-julia">updatePPE!(dfg, sourceVariables)
updatePPE!(dfg, sourceVariables, ppekey)
</code></pre><p>Update PPE data if it exists, otherwise add it.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L550-L553">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.deletePPE!" href="#DistributedFactorGraphs.deletePPE!"><code>DistributedFactorGraphs.deletePPE!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">deletePPE!(dfg, variablekey)
deletePPE!(dfg, variablekey, ppekey)
</code></pre><p>Delete PPE data, returns the deleted element.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L561-L564">source</a><div><div><pre><code class="language-julia">deletePPE!(dfg, sourceVariable)
deletePPE!(dfg, sourceVariable, ppekey)
</code></pre><p>Delete PPE data, returns the deleted element.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L575-L578">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.mergePPEs!" href="#DistributedFactorGraphs.mergePPEs!"><code>DistributedFactorGraphs.mergePPEs!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">mergePPEs!(destVariable, sourceVariable)
</code></pre><p>Merges and updates solver and estimate data for a variable (variable can be from another graph). Note: Makes a copy of the estimates and solver data so that there is no coupling between graphs.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L596-L600">source</a></section><p>Example of PPE operations:</p><pre><code class="language-julia"># Add a new PPE of type MeanMaxPPE to :x0
ppe = MeanMaxPPE(:default, [0.0], [0.0], [0.0])
addPPE!(dfg, :x0, ppe)
@show listPPEs(dfg, :x0)
# Get the data back - note that this is a reference to above.
v = getPPE(dfg, :x0, :default)
# Delete it
deletePPE!(dfg, :x0, :default)
# Update add it
updatePPE!(dfg, :x0, ppe, :default)
# Update update it
updatePPE!(dfg, :x0, ppe, :default)
# Bulk copy PPE&#39;s for x0 and x1
updatePPE!(dfg, [x0], :default)</code></pre><h4><a class="nav-anchor" id="Solver-Data-1" href="#Solver-Data-1">Solver Data</a></h4><p>Solver data is used by IncrementalInference/RoME/Caesar solver to produce the above PPEs.</p><p>Related functions:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.listVariableSolverData" href="#DistributedFactorGraphs.listVariableSolverData"><code>DistributedFactorGraphs.listVariableSolverData</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">listVariableSolverData(dfg, variablekey)
</code></pre><p>List all the solver data keys in the variable.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L454-L457">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.getVariableSolverData" href="#DistributedFactorGraphs.getVariableSolverData"><code>DistributedFactorGraphs.getVariableSolverData</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getVariableSolverData(dfg, variablekey)
getVariableSolverData(dfg, variablekey, solvekey)
</code></pre><p>Get variable solverdata for a given solve key.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L328-L331">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.addVariableSolverData!" href="#DistributedFactorGraphs.addVariableSolverData!"><code>DistributedFactorGraphs.addVariableSolverData!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">addVariableSolverData!(dfg, variablekey, vnd)
addVariableSolverData!(dfg, variablekey, vnd, solvekey)
</code></pre><p>Add variable solver data, errors if it already exists.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L339-L342">source</a><div><div><pre><code class="language-julia">addVariableSolverData!(dfg, sourceVariable)
addVariableSolverData!(dfg, sourceVariable, solvekey)
</code></pre><p>Add a new solver data  entry from a deepcopy of the source variable solver data. NOTE: Copies the solver data.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L352-L356">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.updateVariableSolverData!" href="#DistributedFactorGraphs.updateVariableSolverData!"><code>DistributedFactorGraphs.updateVariableSolverData!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">updateVariableSolverData!(dfg, variablekey, vnd)
updateVariableSolverData!(dfg, variablekey, vnd, solvekey)
updateVariableSolverData!(dfg, variablekey, vnd, solvekey, useCopy)
updateVariableSolverData!(dfg, variablekey, vnd, solvekey, useCopy, fields)
updateVariableSolverData!(dfg, variablekey, vnd, solvekey, useCopy, fields, verbose)
</code></pre><p>Update variable solver data if it exists, otherwise add it.</p><p>Notes:</p><ul><li><code>useCopy=true</code> to copy solver data and keep separate memory.</li><li>Use <code>fields</code> to updated only a few VND.fields while adhering to <code>useCopy</code>.</li></ul><p>Related</p><p>mergeVariableSolverData!</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L361-L372">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.deleteVariableSolverData!" href="#DistributedFactorGraphs.deleteVariableSolverData!"><code>DistributedFactorGraphs.deleteVariableSolverData!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">deleteVariableSolverData!(dfg, variablekey)
deleteVariableSolverData!(dfg, variablekey, solvekey)
</code></pre><p>Delete variable solver data, returns the deleted element.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L429-L432">source</a><div><div><pre><code class="language-julia">deleteVariableSolverData!(dfg, sourceVariable)
deleteVariableSolverData!(dfg, sourceVariable, solvekey)
</code></pre><p>Delete variable solver data, returns the deleted element.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L443-L446">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.mergeVariableSolverData!" href="#DistributedFactorGraphs.mergeVariableSolverData!"><code>DistributedFactorGraphs.mergeVariableSolverData!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">mergeVariableSolverData!(destVariable, sourceVariable)
</code></pre><p>Merges and updates solver and estimate data for a variable (variable can be from another graph). If the same key is present in another collection, the value for that key will be the value it has in the last collection listed (updated). Note: Makes a copy of the estimates and solver data so that there is no coupling between graphs.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L463-L468">source</a></section><p>Example of solver data operations:</p><pre><code class="language-julia"># Add new VND of type ContinuousScalar to :x0
# Could also do VariableNodeData(ContinuousScalar())
vnd = VariableNodeData{ContinuousScalar}()
addVariableSolverData!(dfg, :x0, vnd, :parametric)
@show listVariableSolverData(dfg, :x0)
# Get the data back - note that this is a reference to above.
vndBack = getVariableSolverData(dfg, :x0, :parametric)
# Delete it
deleteVariableSolverData!(dfg, :x0, :parametric)</code></pre><h4><a class="nav-anchor" id="Small-Data-1" href="#Small-Data-1">Small Data</a></h4><p>Small data allows you to assign a dictionary to variables. It is a useful way to keep small amounts of string data in a variable. As it is stored in the graph itself, large entries will slow the graph down, so if data should exceed a few bytes/kb, it should rather be saved in bigData.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.getSmallData" href="#DistributedFactorGraphs.getSmallData"><code>DistributedFactorGraphs.getSmallData</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getSmallData(v)
</code></pre><p>Get the small data for a variable.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L268-L271">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.setSmallData!" href="#DistributedFactorGraphs.setSmallData!"><code>DistributedFactorGraphs.setSmallData!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setSmallData!(v, smallData)
</code></pre><p>Set the small data for a variable. This will overwrite old smallData.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/DFGVariable.jl#L274-L278">source</a></section><p>Example:</p><pre><code class="language-julia">setSmallData!(x0, Dict(&quot;entry&quot;=&gt;&quot;entry value&quot;))
getSmallData(x0)</code></pre><h4><a class="nav-anchor" id="Big-Data-1" href="#Big-Data-1">Big Data</a></h4><h3><a class="nav-anchor" id="Factors-1" href="#Factors-1">Factors</a></h3><h2><a class="nav-anchor" id="Graph-Related-Data-1" href="#Graph-Related-Data-1">Graph-Related Data</a></h2><p>DFG can store data in the graph itself (as opposed to inside graph elements). When you retrieve graphs from a database, this information is carried along. If you are working with an in-memory graph, the structure is flattened into the graph itself as <code>userData</code>, <code>robotData</code>, and <code>sessionData</code>.</p><p>Graphs reside inside a hierarchy made up in the following way:</p><ul><li>User1<ul><li>Robot1<ul><li>Session1 (the graph itself)</li></ul></li></ul></li><li>User2<ul><li>Robot2</li><li>Robot3<ul><li>Session2</li><li>Session3</li></ul></li></ul></li></ul><p>This data can be retrieved with the follow functions:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.getUserData" href="#DistributedFactorGraphs.getUserData"><code>DistributedFactorGraphs.getUserData</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getUserData(dfg)
</code></pre><p>Get the user data associated with the graph.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/AbstractDFG.jl#L87">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.getRobotData" href="#DistributedFactorGraphs.getRobotData"><code>DistributedFactorGraphs.getRobotData</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getRobotData(dfg)
</code></pre><p>Get the robot data associated with the graph.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/AbstractDFG.jl#L104">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.getSessionData" href="#DistributedFactorGraphs.getSessionData"><code>DistributedFactorGraphs.getSessionData</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getSessionData(dfg)
</code></pre><p>Get the session data associated with the graph.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/AbstractDFG.jl#L121">source</a></section><p>It can be set using the following functions:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.setUserData!" href="#DistributedFactorGraphs.setUserData!"><code>DistributedFactorGraphs.setUserData!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setUserData!(dfg, data)
</code></pre><p>Set the user data associated with the graph.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/AbstractDFG.jl#L94">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.setRobotData!" href="#DistributedFactorGraphs.setRobotData!"><code>DistributedFactorGraphs.setRobotData!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setRobotData!(dfg, data)
</code></pre><p>Set the robot data associated with the graph.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/AbstractDFG.jl#L111">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.setSessionData!" href="#DistributedFactorGraphs.setSessionData!"><code>DistributedFactorGraphs.setSessionData!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setSessionData!(dfg, data)
</code></pre><p>Set the session data associated with the graph.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/a37d004f03025eb84b8935c52713969fb24ac960/src/services/AbstractDFG.jl#L128">source</a></section><p>Example of using graph-level data:</p><pre><code class="language-julia">setUserData!(dfg, Dict(:a =&gt; &quot;Hello&quot;))
getUserData(dfg)</code></pre><footer><hr/><a class="previous" href="../BuildingGraphs/"><span class="direction">Previous</span><span class="title">Building Graphs</span></a><a class="next" href="../DrawingGraphs/"><span class="direction">Next</span><span class="title">Drawing Graphs</span></a></footer></article></body></html>
