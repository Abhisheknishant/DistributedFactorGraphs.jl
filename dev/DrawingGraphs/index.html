<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Drawing Graphs · DistributedFactorGraphs.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>DistributedFactorGraphs.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../DataStructure/">Data Structure</a></li><li><span class="toctext">Getting Started</span><ul><li><a class="toctext" href="../getting_started/">Introduction</a></li><li><a class="toctext" href="../BuildingGraphs/">Building Graphs</a></li><li><a class="toctext" href="../GraphData/">Using Graph Data</a></li><li class="current"><a class="toctext" href>Drawing Graphs</a><ul class="internal"><li><a class="toctext" href="#GraphPlot-1">GraphPlot</a></li><li><a class="toctext" href="#Dot-Files-1">Dot Files</a></li></ul></li><li><a class="toctext" href="../TraversingAndQuerying/">Traversing and Querying</a></li><li><a class="toctext" href="../ref_api/">Common API Interface</a></li></ul></li><li><span class="toctext">DistributedFactorGraph API&#39;s</span><ul><li><a class="toctext" href="../apis/graphs/">Graphs.jl</a></li><li><a class="toctext" href="../apis/graphs/">LightGraphs.jl</a></li><li><a class="toctext" href="../apis/graphs/">CloudGraphs.jl</a></li></ul></li><li><a class="toctext" href="../func_ref/">Reference</a></li></ul></nav><article id="docs"><header><nav><ul><li>Getting Started</li><li><a href>Drawing Graphs</a></li></ul><a class="edit-page" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/master/docs/src/DrawingGraphs.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Drawing Graphs</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Drawing-Graphs-1" href="#Drawing-Graphs-1">Drawing Graphs</a></h1><p>Graphs can be visualized by using either <code>GraphPlot</code> or rendering to .dot files (which can be viewed using xdot).</p><h2><a class="nav-anchor" id="GraphPlot-1" href="#GraphPlot-1">GraphPlot</a></h2><p><code>GraphPlot</code> plotting is available if <code>GraphPlot</code> is imported before DFG is imported. Install <code>GraphPlot</code> using the following command:</p><pre><code class="language-julia">using Pkg
Pkg.install(&quot;GraphPlot&quot;)</code></pre><p>Then bring <code>GraphPlot</code> in before DFG:</p><pre><code class="language-julia">using GraphPlot
using DistributedFactorGraphs</code></pre><p>Any factor graph can then be drawn by calling <code>dfgPlot</code>:</p><pre><code class="language-julia"># Construct graph using IIF
using IncrementalInference
# Create graph
dfg = GraphsDFG{SolverParams}(params=SolverParams())
v1 = addVariable!(dfg, :x0, ContinuousScalar, labels = [:POSE], solvable=1)
v2 = addVariable!(dfg, :x1, ContinuousScalar, labels = [:POSE], solvable=1)
v3 = addVariable!(dfg, :l0, ContinuousScalar, labels = [:LANDMARK], solvable=1)
prior = addFactor!(dfg, [:x0], Prior(Normal(0,1)))
f1 = addFactor!(dfg, [:x0; :x1], LinearConditional(Normal(50.0,2.0)), solvable=1)
f1 = addFactor!(dfg, [:l0; :x0], LinearConditional(Normal(40.0,5.0)), solvable=1)
f1 = addFactor!(dfg, [:l0; :x1], LinearConditional(Normal(-10.0,5.0)), solvable=1)

# Plot graph
dfgplot(dfg)</code></pre><p><img src="../imgs/initialgraph.jpg" alt="imgs/initialgraph.jpg"/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.DFGPlots.dfgplot" href="#DistributedFactorGraphs.DFGPlots.dfgplot"><code>DistributedFactorGraphs.DFGPlots.dfgplot</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">dfgplot(dfg)
dfgplot(dfg, p)
</code></pre><p>Plots the structure of the factor graph. GraphPlot must be imported before DistributedFactorGraphs for these functions to be available. Returns the plot context.</p><p>E.g.</p><pre><code class="language-none">using GraphPlot
using DistributedFactorGraphs, DistributedFactorGraphs.DFGPlots
# ... Make graph...
# Using GraphViz plotting
dfgplot(fg)
# Save to PDF
using Compose
draw(PDF(&quot;/tmp/graph.pdf&quot;, 16cm, 16cm), dfgplot(fg))</code></pre><p>More information at <a href="https://github.com/JuliaGraphs/GraphPlot.jl">GraphPlot.jl</a></p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/d67220d6f1d63c8c845ce359df6a10632689db47/src/DFGPlots/DFGPlots.jl#L32-L50">source</a><div><div><pre><code class="language-julia">dfgplot(dfg)
dfgplot(dfg, p)
</code></pre><p>Plots the structure of the factor graph. GraphPlot must be imported before DistributedFactoGraphs for these functions to be available. Returns the plot context.</p><p>E.g.</p><pre><code class="language-none">using GraphPlot
using DistributedFactorGraphs, DistributedFactorGraphs.DFGPlots
# ... Make graph...
# Using GraphViz plotting
dfgplot(fg)
# Save to PDF
using Compose
draw(PDF(&quot;/tmp/graph.pdf&quot;, 16cm, 16cm), dfgplot(fg))</code></pre><p>More information at <a href="https://github.com/JuliaGraphs/GraphPlot.jl">GraphPlot.jl</a></p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/d67220d6f1d63c8c845ce359df6a10632689db47/src/DFGPlots/DFGPlots.jl#L69-L87">source</a></section><h3><a class="nav-anchor" id="Rendering-GraphPlot-to-PDF-1" href="#Rendering-GraphPlot-to-PDF-1">Rendering GraphPlot to PDF</a></h3><p>The graph can be rendered to PDF or JPG in the following way:</p><pre><code class="language-julia"># Save to PDF
using Compose
draw(PDF(&quot;/tmp/graph.pdf&quot;, 16cm, 16cm), dfgplot(dfg))</code></pre><h3><a class="nav-anchor" id="More-Information-1" href="#More-Information-1">More Information</a></h3><p>More information at <a href="https://github.com/JuliaGraphs/GraphPlot.jl">GraphPlot.jl</a></p><h2><a class="nav-anchor" id="Dot-Files-1" href="#Dot-Files-1">Dot Files</a></h2><p>Dot files are a standard format for visualizing graphs and applications such as xdot are available to view the files. Dot plotting does not require <code>GraphPlot</code> and can be drawn by either:</p><ul><li>Calling <code>toDot</code> on any graph to produce a string of the graph</li><li>Calling <code>toDotFile</code> on any graph to save it directly to a dotfile</li></ul><pre><code class="language-julia">using DistributedFactorGraphs
# Construct graph using IIF
using IncrementalInference
# Create graph
dfg = GraphsDFG{SolverParams}(params=SolverParams())
v1 = addVariable!(dfg, :x0, ContinuousScalar, labels = [:POSE], solvable=1)
v2 = addVariable!(dfg, :x1, ContinuousScalar, labels = [:POSE], solvable=1)
v3 = addVariable!(dfg, :l0, ContinuousScalar, labels = [:LANDMARK], solvable=1)
prior = addFactor!(dfg, [:x0], Prior(Normal(0,1)))
f1 = addFactor!(dfg, [:x0; :x1], LinearConditional(Normal(50.0,2.0)), solvable=1)
f1 = addFactor!(dfg, [:l0; :x0], LinearConditional(Normal(40.0,5.0)), solvable=1)
f1 = addFactor!(dfg, [:l0; :x1], LinearConditional(Normal(-10.0,5.0)), solvable=1)
# Save to dot file
toDotFile(dfg, &quot;/tmp/test.dot&quot;)
# Open with xdot
run(`xdot /tmp/test.dot`)</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.toDot" href="#DistributedFactorGraphs.toDot"><code>DistributedFactorGraphs.toDot</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">toDot(dfg)
</code></pre><p>Produces a dot-format of the graph for visualization.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/d67220d6f1d63c8c845ce359df6a10632689db47/src/services/AbstractDFG.jl#L999-L1002">source</a><div><div><pre><code class="language-julia">toDot(dfg)
</code></pre><p>Produces a dot-format of the graph for visualization.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/d67220d6f1d63c8c845ce359df6a10632689db47/src/GraphsDFG/services/GraphsDFG.jl#L294-L297">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DistributedFactorGraphs.toDotFile" href="#DistributedFactorGraphs.toDotFile"><code>DistributedFactorGraphs.toDotFile</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">toDotFile(dfg)
toDotFile(dfg, fileName)
</code></pre><p>Produces a dot file of the graph for visualization. Download XDot to see the data</p><p>Note</p><ul><li>Default location &quot;/tmp/dfg.dot&quot; – MIGHT BE REMOVED</li><li>Can be viewed with the <code>xdot</code> system application.</li><li>Based on graphviz.org</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/d67220d6f1d63c8c845ce359df6a10632689db47/src/services/AbstractDFG.jl#L1012-L1021">source</a></section><footer><hr/><a class="previous" href="../GraphData/"><span class="direction">Previous</span><span class="title">Using Graph Data</span></a><a class="next" href="../TraversingAndQuerying/"><span class="direction">Next</span><span class="title">Traversing and Querying</span></a></footer></article></body></html>
